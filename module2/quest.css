/* 1. БАЗОВЫЕ НАСТРОЙКИ (ОБЩИЕ) */
* { box-sizing: border-box; }
html, body { 
    height: 100%; margin: 0; 
    font-family: "Share Tech Mono", monospace; 
    background: #050505; color: #e9f7f7;
    overflow: hidden; 
}

.screen { 
    display: none; align-items: center; justify-content: center; 
    height: 100vh; width: 100vw; padding: 20px; position: relative; 
}
.screen.active { display: flex; flex-direction: column; }

/* ФОН */
.bg { 
    position: fixed; inset: 0; background-position: center center; 
    background-repeat: no-repeat; background-color: #0a0a0f; z-index: 0;
}
.bg.mode-cover { background-size: cover; filter: brightness(0.7); }

/* UI И ПАНЕЛЬ */
.ui { position: relative; z-index: 5; width: 100%; height: 100%; display: flex; flex-direction: column; }

.panel { 
    position: absolute; left: 50%; bottom: 20px; 
    transform: translateX(-50%); width: 92%; max-width: 800px; 
    background: rgba(10, 10, 15, 0.85); /* Полупрозрачный для стиля */
    border-radius: 16px; padding: 20px; 
    border: 1px solid rgba(0, 255, 225, 0.25); 
    backdrop-filter: blur(12px);
    display: flex; flex-direction: column;
}

.scene-text { 
    font-size: 1.1rem; line-height: 1.4; color: #dff; 
    margin-bottom: 15px; overflow-y: auto;
}

.choices { display: flex; flex-direction: column; gap: 10px; }

.choice-button { 
    width: 100%; padding: 12px; border-radius: 8px; 
    border: 1px solid rgba(0, 255, 225, 0.2); 
    background: rgba(255,255,255,0.05); color: #00ffe1; 
    cursor: pointer; text-align: left; transition: 0.2s;
}

/* 2. ГЛАВНЫЙ ФИКС ДЛЯ МОБИЛОК (iPhone, Android и т.д.) */
@media (max-width: 767px) {
    /* Поднимаем картинку, чтобы голова рыцаря была видна */
    .bg.mode-cover {
        background-position: center 15% !important;
    }

    /* Делаем панель компактной */
    .panel {
        bottom: 10px !important;
        width: 96% !important;
        padding: 12px !important;
        max-height: 50vh !important; /* Не больше половины экрана */
    }

    /* Текст не должен вытеснять кнопки */
    .scene-text {
        font-size: 0.9rem !important;
        max-height: 18vh !important; 
        margin-bottom: 8px !important;
    }

    /* Кнопки выбора — компактнее */
    .choice-button {
        padding: 8px 10px !important;
        font-size: 0.85rem !important;
        margin-bottom: 4px !important;
    }

    /* Верхние кнопки Restart/Next */
    .top-bar {
        padding: 5px !important;
        justify-content: center !important;
    }
    .btn {
        padding: 5px 12px !important;
        font-size: 0.7rem !important;
    }
}

/* СКРЫТИЕ ЭЛЕМЕНТОВ */
.hidden { display: none !important; }